package com.uwb.bt2j.aligner;

public class RandomSource {
	public static final int DEFUALT_A = 1664525;
	public static final int DEFUALT_C = 1013904223;
	
	public RandomSource() {
		a = DEFUALT_A;
		c = DEFUALT_C;
		inited_ = false;
	}
	
	public RandomSource(int _last) {
		a = DEFUALT_A;
		c = DEFUALT_C;
		last = _last;
		inited = true;
	}
	
	public RandomSource(int _a, int _c) {
		a = _a;
		c = _c;
		inited = false;
	}
	
	public void init(int seed) {
		last = seed;
		inited_ = true;
		lastOff = 30;
	}
	
	public int nextU32() {
		int ret;
		last = a * last + c;
		ret = last >> 16;
		last = a * last + c;
		ret ^= last;
		lastOff = 0;
		return ret;
	}
	
	public long nextU64() {
		long first = nextU32();
		first = first << 32;
		long second = nextU32();
		return first | second;
	}
	
	public double nextSizeT() {
		return nextU32();
	}
	
	public int nextU32Range(int lo, int hi) {
		int ret = lo;
		if(hi > lo) {
			ret += (nextU32() % (hi-lo+1));
		}
		return ret;
	}
}
