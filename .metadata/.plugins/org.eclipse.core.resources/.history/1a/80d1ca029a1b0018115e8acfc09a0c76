package com.uwb.bt2j.aligner.sink;

public class ReportingState {
	public ReportingState(final ReportingParams p) {
		reset();
	}
	
	public void reset() {
		state_ = 1;
		paired_ = false;
		nconcord_ = 0;
		ndiscord_ = 0;
		nunpair1_ = 0;
		nunpair2_ = 0;
		doneConcord_ = false;
		doneDiscord_ = false;
		doneUnpair_  = false;
		doneUnpair1_ = false;
		doneUnpair2_ = false;
		exitConcord_ = 1;
		exitDiscord_ = 1;
		exitUnpair1_ = 1;
		exitUnpair2_ = 1;
		done_ = false;
	}
	
	public final Boolean inited() {
		return state_ != 1;
	}
	
	public void nextRead(Boolean paired) {
		
	}
	
	public Boolean foundConcordant() {
		
	}
	
	public Boolean foundUnpaired() {
		
	}
	
	public void finish() {
		
	}
	
	public final void getReport(
			long nconcordAln,
			long ndiscordAln, 
			long nunpair1Aln, 
			long nunpair2Aln, 
			Boolean pairMax, 
			Boolean unpair1Max,
			Boolean unpair2Max) {
		
	}
	
	public int state() {
		return state_;
	}
	
	public Boolean doneConcordant() {
		return doneConcord_;
	}
	
	public Boolean doneUnpaired(Boolean mate1) {
		return mate1 ? doneUnpair1_ : doneUnpair2_;
	}
	
	public Boolean doneWithMate(Boolean mate1) {
		Boolean doneUnpair = mate1 ? doneUnpair1_ : doneUnpair2_;
		long nun = mate1 ? nunpair1_ : nunpair2_;
		if(!doneUnpair || !doneConcord_) {
			return false;
		}
		if(!doneDiscord_ && nun == 0) {
			return false;
		}
		return true;
	}
	
	public Boolean doneUnpaired() {
		return doneUnpair_;
	}
	
	public Boolean done() {
		return done_;
	}
	
	public long numConcordant() {
		return nconcord_;
	}
	
	public long numDiscordant() {
		return ndiscord_;
	}

	public long numUnpaired1() {
		return nunpair1_;
	}
	
	public long numUnpaired2() {
		return nunpair2_;
	}
	
	public final ReportingParams params() {
		return p_;
	}
	
	protected void convertUnpairedToDiscordant() {
		exitUnpair1_ = 6;
		exitUnpair2_ = 6;
		nunpair1_ = 0;
		nunpair2_ = 0;
		ndiscord_ = 1;
	}
	
	protected final Boolean areDone(long cnt, Boolean done, int exit) {
		
	}
}