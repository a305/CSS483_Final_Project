package com.uwb.bt2j.util;

import java.io.File;
import java.io.FileInputStream;
import java.io.InputStream;

public class FileBuf {
	public static boolean isnewline(int c){
		return c == '\r' || c == '\n';
	}
	
	public static boolean isspace_notnl(int c) {
		return isspace(c) && !isnewline(c);
	}
	
	public FileBuf() {
		init();
	}
	
	public FileBuf(File in) {
		init();
		_in = in;
	}
	
	public FileBuf(gzFile in) {
		init();
		_zIn = in;
	}
	
	public FileBuf(FileInputStream inf) {
		init();
		_inf = inf;
	}
	
	public FileBuf(InputStream ins) {
		init();
		_ins = ins;
	}
	
	public boolean isOpen() {
		return _in != null || _inf != null || _ins != null;
	}
	
	public void close() {
		if(_in != null && _ins != System.in) {
			fclose(_in);
		} else if(_inf != null) {
			_inf.close();
		} else if(_zIn != null) {
			gzclose(_zIn);
		}
	}
}
